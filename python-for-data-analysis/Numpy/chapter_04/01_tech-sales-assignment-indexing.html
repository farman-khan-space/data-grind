<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NumPy Mini-Project: Quantum Tech Sales Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .task-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        details > summary {
            cursor: pointer;
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
        .solution-block {
            background-color: #f3f4f6; /* bg-gray-100 */
            color: #1f2937; /* text-gray-800 */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto px-4 py-12">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-purple-600 mb-2">NumPy Mini-Mega Project</h1>
            <p class="text-xl text-gray-600">A Hands-On Sales Data Analysis Challenge</p>
        </header>

        <!-- Case Study Section -->
        <div class="bg-white rounded-lg p-8 mb-12 shadow-lg border border-gray-200">
            <h2 class="text-3xl font-bold text-purple-600 mb-4">Case Study: Quantum Tech Distributors</h2>
            <p class="text-gray-700 leading-relaxed">
                You've just been hired as a junior data analyst for "Quantum Tech," a leading electronics distributor. It's late on a Saturday evening, and your manager needs a quick report on the recent sales performance before the weekly meeting on Monday.
            </p>
            <p class="mt-4 text-gray-700 leading-relaxed">
                Your task is to use your newfound NumPy skills to extract key insights from a raw sales data array. This is your chance to show them the power of array-oriented programming! All the data has been pre-processed into a single NumPy array for speed. Remember, this is all based on the concepts from **Chapter 4 of "Python for Data Analysis"**.
            </p>
        </div>

        <!-- Copyable Data Section -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold mb-4 text-center text-purple-600">Copy Your Data</h2>
            <div class="bg-white rounded-lg p-6 shadow-lg border border-gray-200 relative">
                <p class="mb-4 text-gray-500">To get started, copy the Python list below into your programming environment (e.g., a Jupyter notebook).</p>
                <button id="copy-button" class="absolute top-4 right-4 bg-purple-600 hover:bg-purple-700 text-white text-sm font-bold py-2 px-4 rounded-lg transition-colors">Copy Code</button>
                <div class="bg-gray-800 text-white rounded-md p-4 text-sm font-mono overflow-x-auto">
                    <pre id="code-to-copy"><code></code></pre>
                </div>
            </div>
        </div>

        <!-- The Dataset Section -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold mb-4 text-center text-purple-600">The Sales Data Array</h2>
            <div class="bg-white rounded-lg p-6 shadow-lg border border-gray-200">
                <p class="mb-4 text-gray-500">The data is a 2D NumPy array with 55 rows and 10 columns. Here are the column descriptions and their index positions:</p>
                <ul class="list-disc list-inside mb-6 text-gray-700 space-y-2">
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 0: OrderID</code></li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 1: ProductID</code> (0: Laptop, 1: Smartphone, 2: Headphones, 3: Charger)</li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 2: CategoryID</code> (0: Computing, 1: Mobile, 2: Accessories)</li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 3: UnitsSold</code></li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 4: SalePrice_PKR</code></li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 5: CostPrice_PKR</code></li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 6: DayOfYear</code></li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 7: RegionID</code> (0: North, 1: South, 2: Central)</li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 8: Discount</code></li>
                    <li><code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">Col 9: CustomerID</code></li>
                </ul>
                <p class="mb-4 text-gray-500">Below is a display of the raw data for quick reference:</p>
                <div class="bg-gray-800 text-white rounded-md p-4 text-sm font-mono overflow-x-auto">
                    <pre id="sales-data-display"></pre>
                </div>
            </div>
        </div>
        
        <!-- Assignments Section -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-center text-purple-600">Your Assignments</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

                <!-- Task Cards -->
                <div class="task-card bg-white rounded-lg p-6 shadow-lg border border-gray-200">
                    <h3 class="text-xl font-bold text-purple-700 mb-3">1. First Look: Data Loading & Inspection</h3>
                    <p class="text-gray-500 mb-4">Load the data into a NumPy array and get a feel for its structure.</p>
                    <div class="bg-gray-100 rounded-md p-4">
                        <code class="font-mono text-sm text-gray-700"># 1. Convert 'sales_data_list' into 'sales_arr'.<br># 2. Print the array's .shape and .dtype.</code>
                    </div>
                </div>

                <div class="task-card bg-white rounded-lg p-6 shadow-lg border border-gray-200">
                    <h3 class="text-xl font-bold text-purple-700 mb-3">2. Profit Calculation: Vectorized Arithmetic</h3>
                    <p class="text-gray-500 mb-4">Calculate the total profit for each order line item.</p>
                    <div class="bg-gray-100 rounded-md p-4">
                        <code class="font-mono text-sm text-gray-700"># 1. Calculate total profit: (SalePrice - CostPrice) * UnitsSold.<br># 2. Print the first 5 profit values.</code>
                    </div>
                </div>

                <div class="task-card bg-white rounded-lg p-6 shadow-lg border border-gray-200">
                    <h3 class="text-xl font-bold text-purple-700 mb-3">3. High-Value Orders: Boolean Indexing</h3>
                    <p class="text-gray-500 mb-4">Isolate orders where more than 5 units were sold.</p>
                    <div class="bg-gray-100 rounded-md p-4">
                        <code class="font-mono text-sm text-gray-700"># 1. Create a boolean mask where UnitsSold > 5.<br># 2. Use it to select the high-value orders.<br># 3. Print the shape of the resulting array.</code>
                    </div>
                </div>

                <div class="task-card bg-white rounded-lg p-6 shadow-lg border border-gray-200">
                    <h3 class="text-xl font-bold text-purple-700 mb-3">4. Smartphone Sales Stats: Combining Masks</h3>
                    <p class="text-gray-500 mb-4">Find the average sale price for smartphones in the Central region.</p>
                    <div class="bg-gray-100 rounded-md p-4">
                        <code class="font-mono text-sm text-gray-700"># 1. Create masks for ProductID == 1 and RegionID == 2.<br># 2. Combine them with '&'.<br># 3. Use the mask to get the SalePrice and find its mean.</code>
                    </div>
                </div>

                <div class="task-card bg-white rounded-lg p-6 shadow-lg border border-gray-200">
                    <h3 class="text-xl font-bold text-purple-700 mb-3">5. Top Seller: Statistical Methods</h3>
                    <p class="text-gray-500 mb-4">Find the OrderID of the transaction with the highest revenue.</p>
                    <div class="bg-gray-100 rounded-md p-4">
                        <code class="font-mono text-sm text-gray-700"># 1. Calculate revenue (UnitsSold * SalePrice).<br># 2. Find the index of the max value with .argmax().<br># 3. Use the index to get the OrderID.</code>
                    </div>
                </div>

                <div class="task-card bg-white rounded-lg p-6 shadow-lg border border-gray-200">
                    <h3 class="text-xl font-bold text-purple-700 mb-3">6. Discount Impact: Modifying with Slicing</h3>
                    <p class="text-gray-500 mb-4">Apply a 5% discount to all Laptop sales.</p>
                    <div class="bg-gray-100 rounded-md p-4">
                        <code class="font-mono text-sm text-gray-700"># 1. Create a mask for laptop sales (ProductID == 0).<br># 2. Select the 'Discount' column for those sales.<br># 3. Set their value to 0.05.</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- Final Project Idea -->
        <div class="bg-white rounded-lg p-8 my-12 shadow-lg border border-gray-200">
            <h2 class="text-3xl font-bold text-purple-600 mb-4">Your Final Project Idea</h2>
            <p class="text-gray-700 leading-relaxed">Once you master these tasks, try to build a **"Regional Profitability Report"**.</p>
            <ul class="list-disc list-inside mt-4 text-gray-700 space-y-2">
                <li>Calculate the total profit for each region (North, South, Central).</li>
                <li>Determine which product category is most profitable in each region.</li>
                <li>Find the average discount rate for each region.</li>
                <li>Present your findings. Which region is the most profitable, and why do you think that is?</li>
            </ul>
        </div>


        <!-- Solutions Section -->
        <div class="text-center">
             <details class="group">
                <summary class="inline-block bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-transform duration-200 group-hover:scale-105">
                    Show/Hide Solutions
                </summary>
                <div class="mt-8 text-left bg-white border border-gray-200 rounded-lg p-6 shadow-inner">
                    <h2 class="text-2xl font-bold text-purple-600 mb-6 text-center">Solutions</h2>
                    
                    <!-- Solution Cards -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-lg mb-2 text-purple-700">1. First Look: Data Loading & Inspection</h3>
                        <div class="solution-block rounded-md p-4 font-mono text-sm"><pre><code>import numpy as np
sales_arr = np.array(sales_data_list, dtype=np.float64)
print("Shape:", sales_arr.shape)
print("Dtype:", sales_arr.dtype)
</code></pre></div></div>
                    <div class="mb-6"><h3 class="font-semibold text-lg mb-2 text-purple-700">2. Profit Calculation</h3><div class="solution-block rounded-md p-4 font-mono text-sm"><pre><code>sale_price = sales_arr[:, 4]
cost_price = sales_arr[:, 5]
units_sold = sales_arr[:, 3]
profit_per_unit = sale_price - cost_price
total_profit = profit_per_unit * units_sold
print("Total profit for first 5 orders:", total_profit[0:5])
</code></pre></div></div>
                    <div class="mb-6"><h3 class="font-semibold text-lg mb-2 text-purple-700">3. High-Value Orders</h3><div class="solution-block rounded-md p-4 font-mono text-sm"><pre><code>high_value_mask = sales_arr[:, 3] > 5
high_value_orders = sales_arr[high_value_mask]
print(f"Found {high_value_orders.shape[0]} high-value orders.")
print("Shape of high_value_orders array:", high_value_orders.shape)
</code></pre></div></div>
                    <div class="mb-6"><h3 class="font-semibold text-lg mb-2 text-purple-700">4. Smartphone Sales Stats</h3><div class="solution-block rounded-md p-4 font-mono text-sm"><pre><code>is_smartphone_mask = sales_arr[:, 1] == 1
is_central_region_mask = sales_arr[:, 7] == 2
combined_mask = is_smartphone_mask & is_central_region_mask
smartphone_prices_central = sales_arr[combined_mask, 4]
avg_price = smartphone_prices_central.mean()
print(f"Average smartphone price in Central region: PKR {avg_price:.2f}")
</code></pre></div></div>
                    <div class="mb-6"><h3 class="font-semibold text-lg mb-2 text-purple-700">5. Top Seller</h3><div class="solution-block rounded-md p-4 font-mono text-sm"><pre><code>revenue = sales_arr[:, 3] * sales_arr[:, 4]
top_seller_index = revenue.argmax()
top_order_id = sales_arr[top_seller_index, 0]
print(f"The OrderID with the highest revenue is: {int(top_order_id)}")
</code></pre></div></div>
                    <div><h3 class="font-semibold text-lg mb-2 text-purple-700">6. Discount Impact</h3><div class="solution-block rounded-md p-4 font-mono text-sm"><pre><code>sales_arr_copy = sales_arr.copy()
laptop_mask = sales_arr_copy[:, 1] == 0
sales_arr_copy[laptop_mask, 8] = 0.05
print("Discounts for laptop sales after update:")
print(sales_arr_copy[laptop_mask, 8])
</code></pre></div></div>

                </div>
            </details>
        </div>
    </div>

<script>
// The raw sales data as a Python list of lists
const sales_data_list = [
    [1001, 1, 1, 2, 85000, 75000, 25, 0, 0.0, 501], [1002, 0, 0, 1, 150000, 135000, 25, 1, 0.0, 502],
    [1003, 2, 2, 5, 15000, 12000, 26, 2, 0.1, 503], [1004, 3, 2, 10, 2500, 2000, 26, 0, 0.15, 501],
    [1005, 1, 1, 1, 90000, 80000, 27, 1, 0.0, 504], [1006, 0, 0, 1, 155000, 138000, 27, 2, 0.0, 505],
    [1007, 2, 2, 8, 14000, 11500, 28, 0, 0.1, 506], [1008, 1, 1, 3, 88000, 78000, 28, 1, 0.05, 502],
    [1009, 0, 0, 2, 148000, 132000, 29, 2, 0.0, 507], [1010, 2, 2, 4, 15500, 12500, 29, 0, 0.1, 503],
    [1011, 3, 2, 12, 2400, 1900, 30, 1, 0.15, 508], [1012, 1, 1, 1, 92000, 81000, 30, 2, 0.0, 504],
    [1013, 0, 0, 1, 160000, 142000, 31, 0, 0.0, 509], [1014, 2, 2, 6, 14500, 11800, 31, 1, 0.1, 505],
    [1015, 1, 1, 2, 86000, 76000, 32, 2, 0.05, 510], [1016, 3, 2, 15, 2300, 1800, 32, 0, 0.2, 506],
    [1017, 0, 0, 1, 152000, 136000, 33, 1, 0.0, 511], [1018, 1, 1, 1, 89000, 79000, 33, 2, 0.0, 507],
    [1019, 2, 2, 7, 13000, 11000, 34, 0, 0.1, 508], [1020, 0, 0, 3, 150000, 135000, 34, 1, 0.05, 512],
    [1021, 1, 1, 2, 91000, 80500, 35, 2, 0.0, 509], [1022, 2, 2, 3, 16000, 13000, 35, 0, 0.0, 510],
    [1023, 3, 2, 9, 2600, 2100, 36, 1, 0.15, 513], [1024, 0, 0, 1, 158000, 140000, 36, 2, 0.0, 511],
    [1025, 1, 1, 1, 84000, 74000, 37, 0, 0.0, 514], [1026, 2, 2, 5, 14000, 11500, 37, 1, 0.1, 512],
    [1027, 0, 0, 2, 145000, 130000, 38, 2, 0.0, 515], [1028, 1, 1, 4, 87000, 77000, 38, 0, 0.05, 513],
    [1029, 3, 2, 11, 2500, 2000, 39, 1, 0.15, 516], [1030, 2, 2, 6, 15000, 12000, 39, 2, 0.1, 514],
    [1031, 0, 0, 1, 162000, 145000, 40, 0, 0.0, 517], [1032, 1, 1, 1, 93000, 82000, 40, 1, 0.0, 515],
    [1033, 2, 2, 8, 13500, 11200, 41, 2, 0.1, 518], [1034, 0, 0, 2, 155000, 138000, 41, 0, 0.05, 516],
    [1035, 1, 1, 3, 89500, 79500, 42, 1, 0.0, 519], [1036, 3, 2, 14, 2350, 1850, 42, 2, 0.2, 517],
    [1037, 2, 2, 4, 15800, 12800, 43, 0, 0.1, 520], [1038, 0, 0, 1, 149000, 133000, 43, 1, 0.0, 518],
    [1039, 1, 1, 1, 90500, 80000, 44, 2, 0.0, 521], [1040, 2, 2, 7, 14200, 11600, 44, 0, 0.1, 519],
    [1041, 0, 0, 1, 153000, 137000, 45, 1, 0.0, 522], [1042, 1, 1, 2, 88500, 78500, 45, 2, 0.05, 520],
    [1043, 3, 2, 10, 2550, 2050, 46, 0, 0.15, 523], [1044, 2, 2, 6, 15100, 12100, 46, 1, 0.1, 521],
    [1045, 0, 0, 2, 159000, 141000, 47, 2, 0.0, 524], [1046, 1, 1, 1, 92500, 81500, 47, 0, 0.0, 522],
    [1047, 2, 2, 9, 13800, 11400, 48, 1, 0.1, 525], [1048, 0, 0, 1, 161000, 144000, 48, 2, 0.0, 523],
    [1049, 1, 1, 3, 87500, 77500, 49, 0, 0.05, 526], [1050, 3, 2, 13, 2450, 1950, 49, 1, 0.2, 524],
    [1051, 2, 2, 5, 14800, 11900, 50, 2, 0.1, 527], [1052, 0, 0, 1, 156000, 139000, 50, 0, 0.0, 525],
    [1053, 1, 1, 1, 94000, 83000, 51, 1, 0.0, 528], [1054, 2, 2, 8, 12800, 10800, 51, 2, 0.1, 526],
    [1055, 0, 0, 2, 151000, 135000, 52, 0, 0.05, 529]
];

document.addEventListener('DOMContentLoaded', (event) => {
    // 1. Format the data for the copyable code block
    let codeBlockString = `sales_data_list = [\n`;
    sales_data_list.forEach((row, index) => {
        codeBlockString += `    [${row.join(', ')}]` + (index < sales_data_list.length - 1 ? ',\n' : '\n');
    });
    codeBlockString += `]`;
    document.querySelector('#code-to-copy code').textContent = codeBlockString;

    // 2. Format the data for the display-only block
    const displayData = sales_data_list.map(row => {
        return `  [${row.map(val => val.toString().padStart(8, ' ')).join(', ')}]`;
    }).join('\n');
    document.getElementById('sales-data-display').textContent = `[\n${displayData}\n]`;

    // 3. Add event listener for the copy button
    document.getElementById('copy-button').addEventListener('click', () => {
        const textToCopy = document.querySelector('#code-to-copy code').textContent;
        const textArea = document.createElement('textarea');
        textArea.value = textToCopy;
        document.body.appendChild(textArea);
        textArea.select();
        try {
            document.execCommand('copy');
            const button = document.getElementById('copy-button');
            button.innerText = 'Copied!';
            setTimeout(() => { button.innerText = 'Copy Code'; }, 2000);
        } catch (err) {
            console.error('Failed to copy text: ', err);
        }
        document.body.removeChild(textArea);
    });
});

</script>

</body>
</html>
